<div id="settings-container"
	class="flex w-full flex-col gap-2 justify-start m-3">

	<div class="flex flex-wrap gap-2">

		<article id="avatar-setting-container" class="flex flex-col border-box w-full sm:w-1/4 input-field p-4 pb-8">
			<section id="user-avatar-container" class="flex flex-col px-2">

				<h2 class="md-title mb-4">
					User Avatar
				</h2>

				<div class="flex flex-col flex-1 items-center gap-2">
					<div class="w-32 h-32 border-slate-500">
						<img id="current-avatar" src="" alt="Current Avatar" class="w-full h-full object-cover">
					</div>
					<button id="btn-toggle-avatar" class="need-registered-user hidden w-full glow-button">
						Change Avatar
					</button>
				</div>

				<form id="avatar-form" name="avatar-form" class="hidden flex-col justify-around gap-2 pt-3 pb-3">
					<div class="flex flex-col gap-1">
						<label for="input-avatar-file" class="text-fluid-base mt-2">
							Pick a new image
						</label>
						<input
							id="input-avatar-file"
							name="avatar"
							type="file"
							accept="image/*"
							class="text-xs p-2 mt-0 border border-slate-600 max-w-full"
							required/>
						<span aria-live="polite" class="error-hint hidden text-center text-red-500 text-xs mt-1"></span>
					</div>
					<button type="submit" class="glow-button flex-1">
						Submit Avatar
					</button>
				</form>

			</section>
		</article>

		<article id="user-setting-container" class="flex flex-col gap-8 flex-1 min-w-0 input-field p-4 pb-8">
			<h2 class="md-title">
				User Information
			</h2>

			<section id="user-name-container" class="flex flex-col px-2 gap-4">

				<div class="flex items-center justify-between flex-wrap gap-2">
					<div class="w-full">
						<h2 class="text-fluid-base text-slate-400 p-0 m-0">Username</h2>
						<p id="current-username" class="sm-title">Loading...</p>
					</div>

					<button id="btn-toggle-username" class="glow-button flex-1">
						Change Username
					</button>
				</div>

				<form id="rename-form" name="rename-form" autocomplete="off" novalidate class="hidden w-full border-slate-700">
					<div class="flex flex-col w-full gap-1">
						<label for="input-rename-user" class="text-fluid-base">
							New username:
						</label>
						<input
							id="input-rename-user"
							name="input-new-name"
							type="text"
							required
							minlength="3"
							maxlength="20"
							pattern="[a-zA-Z0-9_]+"
							autocomplete="off"
							placeholder="Alice"
							class="p-2 bg-slate-800 text-fluid-base"
							data-error-msg="Cannot contain special characters"/>
						<span aria-live="polite" class="error-hint text-center text-red-500 text-xs mt-1 hidden"></span>

						<div class="flex gap-2 mt-2">
							<button type="submit" class="glow-button flex-1">
								Submit new username
							</button>
							<button type="button" id="btn-cancel-username" class="glow-button flex-1">
								Cancel
							</button>
						</div>
					</div>
				</form>
			</section>

			<section id="user-email-container" class="hidden need-registered-user flex-col px-2 gap-4">
				<div class="flex items-center justify-between flex-wrap gap-2">
					<div class="w-full">
						<h2 class="text-fluid-base text-slate-400">Email</h2>
						<p id="current-email" class="sm-title">Loading...</p>
					</div>
					<button id="btn-toggle-email" class="flex glow-button flex-1">
						Change Email
					</button>
				</div>

				<form id="user-email-form" name="user-email-form" novalidate autocomplete="off" class="hidden w-full">
					<div class="flex flex-col gap-3 w-full">
						<div>
							<label for="input-email" class="text-fluid-base">
								New Email:
							</label>
							<input
								id="input-email"
								name="input-email"
								type="email"
								required
								placeholder="login@student.42.fr"
								class="w-full p-2 bg-slate-800 text-fluid-base mt-1"
								data-error-msg="Must be a valid email address"/>
							<span aria-live="polite" class="error-hint text-center text-red-500 text-xs mt-1 hidden"></span>
						</div>

						<div>
							<label for="input-email-check" class="text-fluid-base">
								New Email verification:
							</label>
							<input
								id="input-email-check"
								name="input-email-check"
								type="email"
								class="confirmation-input w-full p-2 bg-slate-800 text-fluid-base mt-1"
								required
								placeholder="login@student.42.fr"
								data-error-msg="Must be identical to the email address"
								data-confirmation-target="input-email"/>
							<span aria-live="polite" class="error-hint text-center text-red-500 text-xs mt-1 hidden"></span>
						</div>

						<div class="flex gap-2 mt-2">
							<button type="submit" class="glow-button flex-1">
								Submit new Email
							</button>
							<button type="button" id="btn-cancel-email" class="glow-button flex-1">
								Cancel
							</button>
						</div>
					</div>
				</form>
			</section>

			<section id="user-pass-container" class="hidden need-registered-user flex-col px-2 gap-4">
				<div class="hidden need-registered-user items-center justify-between flex-wrap gap-2">
					<div class="w-full">
						<h2 class="text-fluid-base text-slate-400 ">Password</h2>
						<p class="sm-title">*********</p>
					</div>
					<button id="btn-toggle-password" class="flex justify-center glow-button flex-1">
						Change Password
					</button>
				</div>

				<form id="password-form" name="password-form" autocomplete="off" novalidate class="hidden w-full">
					<div class="flex flex-col gap-3 w-full">
						<div>
							<label for="input-old-password" class="text-fluid-base">
								Current Password:
							</label>
							<input
								id="input-old-password"
								name="input-old-password"
								type="password"
								required
								minlength="8"
								placeholder="Current password"
								class="w-full p-2 bg-slate-800 text-fluid-base mt-1"
								data-error-msg="Password must be at least 8 characters"/>
							<span aria-live="polite" class="error-hint text-center text-red-500 text-xs mt-1 hidden"></span>
						</div>

						<div>
							<label for="input-password" class="text-fluid-base">
								New Password:
							</label>
							<input
								id="input-password"
								name="input-password"
								type="password"
								required
								minlength="8"
								placeholder="New password"
								class="w-full p-2 bg-slate-800 text-fluid-base mt-1"
								data-error-msg="Password must be at least 8 characters"/>
							<span aria-live="polite" class="error-hint text-center text-red-500 text-xs mt-1 hidden"></span>
						</div>

						<div>
							<label for="input-password-check" class="text-fluid-base">
								Confirm New Password:
							</label>
							<input
								id="input-password-check"
								name="input-password-check"
								type="password"
								class="confirmation-input w-full p-2 bg-slate-800 text-fluid-base mt-1"
								required
								placeholder="Confirm new password"
								data-error-msg="Must match the new password"
								data-confirmation-target="input-password"/>
							<span aria-live="polite" class="error-hint text-center text-red-500 text-xs mt-1 hidden"></span>
						</div>

						<div class="flex gap-2 mt-2">
							<button type="submit" class="glow-button flex-1">
								Submit
							</button>
							<button type="button" id="btn-cancel-password" class="glow-button flex-1">
								Cancel
							</button>
						</div>
					</div>
				</form>
			</section>

		</article>

	</div>

	<article id="security-setting-content" class="hidden need-registered-user flex-col gap-6 w-full border-box p-4 pb-8 input-field">
		<h2 class="md-title">
			Security Settings
		</h2>

		<section id="toggle-tfa-container" class="flex flex-col px-2 gap-4">
			<div class="flex items-center justify-between flex-wrap gap-2">
				<div class="w-full">
					<h2 class="sm-title">Two Factor Authentication</h2>
					<p class="text-fluid-base text-slate-400">Add an extra layer of security</p>
				</div>
				<button id="toggle-tfa-btn" class="flex glow-button flex-1">
					Enable 2FA
				</button>
			</div>
		</section>

		<section id="delete-account-container" class="flex flex-col px-2 gap-4">
			<div class="flex items-center justify-between flex-wrap gap-2">
				<div class="w-full">
					<h2 class="text-red-400 sm-title">Delete Account</h2>
					<p class="text-fluid-base text-red-300">Permanently delete your account</p>
				</div>
				<button id="delete-account-btn" class="flex red-glow-button flex-1">
					Delete Account
				</button>
			</div>
		</section>

	</article>

</div>
